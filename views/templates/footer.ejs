<div><a id="top_scroll" onclick="goTop()" style="display: none;"> <img src="/img/common/top-arrow.png" alt="화살표 아이콘"></a></div>

<footer>
    <div class="footer_inner">
        <div class="footer_corp">
            <a href="/service" target="_blank">이용약관</a>
            <a href="privacy" target="_blank"><em>개인정보처리방침</em></a>
            <a href="refund" target="_blank">환불규정</a>
            <!-- <a href="" target="_blank">전화문의 031 668 0116</a> -->
            
        </div>
        <div class="footer_info">
            <dl> 
                <dd>
                    <span>상호 : 에이제트369쇼핑몰(AZ369)</span> <span>대표자 : 심현보</span> <br>
                    <span>사업자 등록번호 : 838-04-01800</span> <br>
                        통신판매업신고번호 : 2020-경기평택-0596 
                </dd>
             <!-- <a href="/" target="_blank"><u style="font-weight: 500">사업자정보확인<img src="/img/common/footer_arrow.png" alt=""></u></a> -->
             <dd>
                <span>주소 : 경기도 평택시 비전5로 20-38 (비전동 에이치탑5, 1002호)</span><br>
                <span>문의전화 : 7092 - 0814 (평일 09:00 ~ 18:00)</span><br>
                이메일 : post@yurim-info.com 
            </dd>
             <dd>
                 <span>에이제트369쇼핑몰(AZ369)는 통신판매중개자이며 통신판매의 당사자가 아닙니다. 상품, 상품정보, 거래에 관한 의무와 책임은 판매자에게 있습니다.</span>
            </dd>
            <dd>
                <span> 따라서 상품/거래 정보 및 거래와 관련된 손해에 대해 에이제트369쇼핑몰(AZ369)는 책임을 지지 않습니다.<span>
             <dd>
             ©2020 <strong style="color: #767676; font-weight: 500;">AZ369</strong> ALL RIGHT RESERVED.</dd>
            </dl>
        </div>
    </div>


</footer>
<script src="/js/go_top_scroll.js"></script>

<script>
        function isBrowserCheck(){ 
            const agt = navigator.userAgent.toLowerCase(); 
            if (agt.indexOf("chrome") != -1) return 'Chrome';
            if (agt.indexOf("opera") != -1) return 'Opera';
            if (agt.indexOf("staroffice") != -1) return 'Star Office';
            if (agt.indexOf("webtv") != -1) return 'WebTV';
            if (agt.indexOf("beonex") != -1) return 'Beonex';
            if (agt.indexOf("chimera") != -1) return 'Chimera';
            if (agt.indexOf("netpositive") != -1) return 'NetPositive';
            if (agt.indexOf("phoenix") != -1) return 'Phoenix';
            if (agt.indexOf("firefox") != -1) return 'Firefox';
            if (agt.indexOf("safari") != -1) return 'Safari';
            if (agt.indexOf("skipstone") != -1) return 'SkipStone';
            if (agt.indexOf("netscape") != -1) return 'Netscape';
            if (agt.indexOf("mozilla/5.0") != -1) return 'Mozilla';
            if (agt.indexOf("msie") != -1) {
                let rv = -1; 
                if (navigator.appName == 'Microsoft Internet Explorer') { 
                    let ua = navigator.userAgent; var re = new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})"); 
                if (re.exec(ua) != null) 
                    rv = parseFloat(RegExp.$1); 
                } 
                return 'Internet Explorer '+rv; 
            } 
        }

        const browser = isBrowserCheck();
    
    if(browser == 'Opera' || browser == 'Mozilla'){
        // alert(browser)
        alert('현재 사용중인 브라우저는 이용에 장애가 있을 수 있습니다. \n가급적 크롬 브라우저를 사용해 주시길 바랍니다.');
    }  


    //가상계좌 자동 취소 요청
    function cancelVBankAPI(){
        $.ajax({
            url : '/api/vbankinterval',
            method : 'get',
            dataType : 'json',
            success: function(res){
                console.log('res :', res.data.length);
                if(res.data.length > 0){
                    let tid = res.data[0].PH_PG_ID               // 결제 고유번호
                    let order_num = res.data[0].PH_OrderNumber   // 주문번호
                    let pay = res.data[0].PH_OPrice              // 결제 가격
                    let vbank_code = res.data[0].PH_BankCode   // 은행코드
                    let vbank_number = res.data[0].PH_BankNumber // 가상계좌 번호
                    
                    vBank(tid, order_num, pay, vbank_code, vbank_number)
                }
            }					
        });
    }

    setInterval(cancelVBankAPI, 1000 * 6);

    //가상계좌 취소 요청값
    function vBankCancel(tid, moid, pay, vbank_code, vbank_num){
        let vBank_data = {}
            vBank_data.mid = 'pgaz369azm'
            vBank_data.licenseKey = 'fx/UT4tcb5VWxP24BXiwH0stdJnNxFf6GpdFdvd42Bmwnurd/1QgGPORTIfioiAVy/B0cx6j5spsDwAfGsleuQ=='
            vBank_data.tid = tid
            vBank_data.moid = moid
            vBank_data.amt = pay
            vBank_data.vbankBankCode = vbank_code
            vBank_data.vbankNum = vbank_num

        return JSON.stringify(vBank_data); 
    }
    
    //가상계좌 취소 요청
    function vBank(chk_pg_id, order_num, ph_pay, vbank_code, vbank_num){
        $.ajax({
            type : "POST",
            url : "https://api.innopay.co.kr/api/vbankCancel",
            async : true,
            data : vBankCancel(chk_pg_id, order_num, ph_pay, vbank_code, vbank_num),
            contentType: "application/json; charset=utf-8",
            dataType : "json",
            success : function(data){
                console.log(data);
            },
            error : function(data){
                console.log(data);   
            }
        });
    }

</script>